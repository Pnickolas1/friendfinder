<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>FriendFinder</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
      <script src="https://code.jquery.com/jquery.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
   </head>
   <body>
      <div class="container">
      <div class="row">
         <div class="col-sm-12">
            <div class="panel panel-default">
               <div class="panel-heading">
                  <h1>Survey Questions</h1>
               </div>
               <div class="panel-body">
                  <h3><strong>About You</strong></h3>
                  <form method="POST" class="form" id="friendForm">
                  <div class="form-group">
                     <label for="name">Name  (Required)</label>
                     <input type="text" class="form-control" id="name" required>
                  </div>
                  <div class="form-group">
                     <label for="url">Link to photo  (Required)</label>
                     <input type="text" class="form-control" id="url" required>
                  </div>
                  <hr>
                  <div class="form-group">
                     <h3>Question 1</h3>
                     <label for="question1">Your mind is always buzzing with unexplored ideas and plans.</label><br>
                     <select class="form-control" id="questionOne">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 2</h3>
                     <label for="question2">Generally speaking, you rely more on your experience than you imagination</label><br>
                     <select class="form-control" id="questionTwo">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 3</h3>
                     <label for="question3">You find it easy to stay relaxed and focused even when there is some pressure</label><br>
                     <select class="form-control" id="questionThree">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 4</h3>
                     <label for="question4">You rarely do something just out of sheer curiosity.</label><br>
                     <select class="form-control" id="questionFour">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 5</h3>
                     <label for="question5">People can rarely upset you.</label><br>
                     <select class="form-control" id="questionFive">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 6</h3>
                     <label for="question6">It is often difficult for you to relate to other people’s feelings.</label><br>
                     <select class="form-control" id="questionSix">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 7</h3>
                     <label for="question7">In a discussion, truth should be more important than people’s sensitivities.</label><br>
                     <select class="form-control" id="questionSeven">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 8</h3>
                     <label for="question8">You rarely get carried away by fantasies and ideas.</label><br>
                     <select class="form-control" id="questionEight">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 9</h3>
                     <label for="question9">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.
                     Select an Option
                     </label><br>
                     <select class="form-control" id="questionNine">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <div class="form-group">
                     <h3>Question 10</h3>
                     <label for="question10">You feel more energetic after spending time with a group of people.</label><br>
                     <select class="form-control" id="questionTen">
                        <option value="1">1 (Strong Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strong Agree)</option>
                     </select>
                     <br>
                  </div>
                  <p>
                    <a class="btn btn-success btn-lg" id="submit" href="#" role="button"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Submit</a>
                  </p>
                  <hr>
                  </form>

                        <div class="modal fade" id="modal">
                           <div class="modal-dialog" role="document">
                              <div class="modal-content">
                              <div class="modal-header">
                                 <h2 class="modal-title"></h2>
                                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                 </button>
                                 <div class="modal-body"></div>
                                 <div class="modal-footer">
                                     <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                 </div>
                              </div>
                           </div>
                         </div>
                        </div>
               </div>
            </div>
         </div>
      </div>
      <script type="text/javascript">
             $('#submit').on('click', function() {
                  console.log("entered submit");
        // store name and photo link as variables
        var name = $('#name').val().trim();
        var url = $('#url').val().trim();

        // if name and photo link aren't blank:
        if (name.length > 0 && url.length > 0 ) {

            // create new friend object
            var friend = {
                name: name,
                photo: url,
                scores: [ $("#questionOne").val(), $("#questionTwo").val(),$("#questionThree").val(),
                           $("#questionFour").val(),$("#questionFive").val(), $("#questionSix").val(),
                            $("#questionSeven").val(),$("#questionEight").val(),$("#questionNine").val(),
                            $("#questionTen").val()]
                        };

            // post data to friends API
            $.post('/api/friends', friend, function(data) {
                $('.modal-title').html('Your Match ');
                $('.modal-body').html('<h4>' + data.name + '</h4><img src="' + data.url + '" alt="photo" height=300><p>');
                $('.modal').modal('show');
            });
            // don't refresh
            return false;

            // if name and photo link are blank:
        } else {
            $('.modal-title').html('Alert');
            $('.modal-body').html('Please complete form');
            $('.modal').modal('show');
        }
    });
      </script>
   </body>
</html>